<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Invoice</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet"/>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Poppins', sans-serif;
      font-size: clamp(13px, 3.4vw, 14px);
      background-color: #FFFFFF;
      color: #212121;
      line-height: 1.5;
    }
    @page { size: A4; margin: 10mm; }
    .container {
      width: min(100% - 32px, 800px);
      margin: clamp(20px, 5vw, 40px) auto;
      background: #FFFFFF;
      padding: clamp(20px, 5vw, 40px);
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    h1 {
      text-align: left; /* ← Changed from center to left */
      font-size: clamp(28px, 7.5vw, 33px);
      font-weight: 700;
      margin-bottom: 16px;
      color: #003366;
    }
    h2 {
      font-size: clamp(15px, 4vw, 16px);
      margin-bottom: 10px;
      font-weight: 600;
      color: #003366;
    }
    h3 {
      font-size: clamp(14px, 3.8vw, 15px);
      margin-top: 20px;
      margin-bottom: 8px;
      font-weight: 600;
      color: #003366;
    }
    .header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 24px;
      margin-bottom: 40px;
      border-bottom: 2px solid #E0E0E0;
      padding-bottom: 20px;
      flex-wrap: wrap;
    }
    .company-info {
      flex: 1;
      min-width: 45%;
    }
    .invoice-info {
      flex: 0 0 auto;
      text-align: right; /* keeps details right-aligned */
      min-width: 220px;
    }
    .company-info p, .invoice-info p { 
      font-size: clamp(13px, 3.4vw, 14px); 
      margin-bottom: 5px; 
    }
    table {
      width: 100%;
      margin-top: 20px;
      border-collapse: collapse;
      border: 1px solid #E0E0E0;
      table-layout: auto;
    }
    th, td {
      padding: clamp(8px, 2.2vw, 10px) clamp(6px, 2vw, 8px);
      text-align: left;
      border: 1px solid #E0E0E0;
      overflow: hidden;
      font-size: clamp(12.5px, 3.3vw, 13px);
    }
    th {
      background-color: #003366;
      color: #FFFFFF;
      font-size: clamp(11px, 3vw, 12px);
      font-weight: 600;
      text-transform: uppercase;
    }
    th:nth-child(1), td:nth-child(1) { width: 55%; padding-left: 14px; padding-right: 14px; }
    th:nth-child(2), td:nth-child(2) { width: 12%; text-align: center; }
    th:nth-child(3), td:nth-child(3) { width: 13%; text-align: right; }
    th:nth-child(4), td:nth-child(4) { width: 15%; text-align: right; font-weight: 600; }
    th:nth-child(5), td:nth-child(5) { width: 5%; text-align: center; padding: 6px 4px; }

    .table-wrapper {
      overflow-x: auto;
      margin: 20px -4px 0;
      -webkit-overflow-scrolling: touch;
    }

    .total {
      margin-top: 30px;
      text-align: right;
      font-size: clamp(15px, 4.2vw, 16px);
      font-weight: 700;
      color: #003366;
    }
    .bank-details { margin-top: 40px; }
    .bank-details p { margin-bottom: 10px; font-size: clamp(13px, 3.5vw, 14px); }
    .footer {
      text-align: center;
      margin-top: 40px;
      font-size: clamp(11.5px, 3vw, 12px);
      color: #757575;
    }
    .button-container {
      text-align: right;
      margin-top: 20px;
      display: flex;
      justify-content: flex-end;
      gap: 12px;
      flex-wrap: wrap;
    }
    .button-container button {
      padding: clamp(9px, 2.5vw, 10px) clamp(16px, 4vw, 20px);
      font-size: clamp(13px, 3.6vw, 14px);
      cursor: pointer;
      border: none;
      border-radius: 5px;
      background-color: #003366;
      color: #FFFFFF;
      transition: background-color 0.3s;
      touch-action: manipulation;
    }
    .button-container button:hover {
      background-color: #002244;
    }
    input[type="date"] {
      font-family: 'Poppins', sans-serif;
      font-size: clamp(13px, 3.5vw, 14px);
      padding: 5px 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    #date-text { display: none; font-size: inherit; }

    @media print {
      body { background-color: #FFFFFF !important; }
      .container { box-shadow: none !important; margin: 0; width: 100%; padding: 20px; }
      .button-container { display: none !important; }
      .table-wrapper { overflow: visible; }
      td:last-child, th:last-child { display: none !important; }
      #invoice-date { display: none !important; }
      #date-text { display: inline !important; }
    }

    @media (max-width: 480px) {
      .header { gap: 16px; }
      .company-info, .invoice-info { min-width: 100%; text-align: left !important; }
      .button-container { justify-content: center; }
      .button-container button { flex: 1; max-width: 180px; }
    }
  </style>
</head>
<body>
  <div class="container" id="invoice">
    <div class="header">
      <div class="company-info">
        <h1>Invoice</h1>
        <p><b contenteditable="true">Your Name</b></p>
        <p contenteditable="true">Your Address</p>
        <p contenteditable="true">City</p>
        <p contenteditable="true">Post Code</p>
      </div>
      <div class="invoice-info">
        <h2>Invoice Details</h2>
        <p><b>Invoice Number:</b> <span contenteditable="true" id="invoice-number">00X/25/26</span></p>
        <p><b>Invoice Date:</b>
          <input type="date" id="invoice-date" onchange="updateDateText()">
          <span id="date-text"></span>
        </p>
      </div>
    </div>

    <div class="info">
      <h2>Bill To</h2>
      <p><b><span contenteditable="true">Client Name</span></b></p>
      <p contenteditable="true">Client's Address</p>
      <p contenteditable="true">City</p>
      <p contenteditable="true">Post Code</p>
    </div>

    <div class="table-wrapper">
      <table id="invoice-table">
        <thead>
          <tr>
            <th>DESCRIPTION</th>
            <th>DAYS/HOURS</th>
            <th>RATE (£)</th>
            <th>TOTAL (£)</th>
            <th>ACTION</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td contenteditable="true">New Service</td>
            <td contenteditable="true" oninput="recalculate()">10</td>
            <td contenteditable="true" oninput="recalculate()">25.00</td>
            <td contenteditable="true">250.00</td>
            <td><button onclick="removeRow(this)">Remove</button></td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="total">
      <p><b>Total: £<span id="total">250.00</span></b></p>
    </div>

    <div class="bank-details">
      <h3>Bank Details</h3>
      <p><b>Account Holder:</b> <span contenteditable="true">Name</span></p>
      <p><b>Account Type:</b> <span contenteditable="true">Bank Name</span></p>
      <p><b>Sort Code:</b> <span contenteditable="true">00-00-00</span></p>
      <p><b>Account Number:</b> <span contenteditable="true">0000000</span></p>
    </div>

    <div class="footer">
      <p>Thank you for your business!</p>
      <p>For any inquiries, please contact <span contenteditable="true">email address</span>.</p>
    </div>

    <div class="button-container">
      <button onclick="printInvoice()">Save as PDF</button>
      <button onclick="addRow()">Add Row</button>
    </div>
  </div>

  <script>
    function printInvoice() { window.print(); }
    function addRow() {
      let tableBody = document.querySelector('#invoice-table tbody');
      let newRow = document.createElement('tr');
      newRow.innerHTML = `
        <td contenteditable="true">New Service</td>
        <td contenteditable="true" oninput="recalculate()">1</td>
        <td contenteditable="true" oninput="recalculate()">0.00</td>
        <td contenteditable="true">0.00</td>
        <td><button onclick="removeRow(this)">Remove</button></td>
      `;
      tableBody.appendChild(newRow);
      recalculate();
    }
    function removeRow(button) {
      button.closest('tr').remove();
      recalculate();
    }
    function recalculate() {
      let rows = document.querySelectorAll('#invoice-table tbody tr');
      let subtotal = 0;
      rows.forEach(row => {
        let quantity = parseFloat(row.cells[1].textContent.trim()) || 0;
        let unitPrice = parseFloat(row.cells[2].textContent.trim()) || 0;
        let total = quantity * unitPrice;
        row.cells[3].textContent = total.toFixed(2);
        subtotal += total;
      });
      document.getElementById('total').textContent = subtotal.toFixed(2);
    }
    function setTodayDate() {
      const today = new Date();
      const yyyy = today.getFullYear();
      const mm = String(today.getMonth() + 1).padStart(2, '0');
      const dd = String(today.getDate()).padStart(2, '0');
      const ukFormat = `${dd}/${mm}/${yyyy}`;
      document.getElementById('invoice-date').value = `${yyyy}-${mm}-${dd}`;
      document.getElementById('date-text').innerText = ukFormat;
    }
    function updateDateText() {
      const dateInput = document.getElementById('invoice-date').value;
      if (dateInput) {
        const parts = dateInput.split('-');
        const ukFormat = `${parts[2]}/${parts[1]}/${parts[0]}`;
        document.getElementById('date-text').innerText = ukFormat;
      }
    }
    window.onload = function () {
      setTodayDate();
      recalculate();
    };
  </script>
</body>

</html>
